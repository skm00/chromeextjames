const ChrUtils=new class{registerActionClick(e){chrome.action.onClicked.addListener(()=>{chrome.tabs.create({url:e})})}sendMessageAsync(e){return new Promise(t=>{chrome.runtime.sendMessage(e,e=>t(e))})}sendTabMessageAsync(e,s){return new Promise(t=>{chrome.tabs.sendMessage(e,s,e=>t(e))})}async getActiveTabAsync(){return(await chrome.tabs.query({active:!0,lastFocusedWindow:!0}))[0]}async getActiveTabIdAsync(){return(await this.getActiveTabAsync())?.id}async insertCssAsync(e,t,s=!1){if(e||(e=await this.getActiveTabIdAsync()))for(const a of t)await chrome.scripting.insertCSS({target:{tabId:e,allFrames:s},files:[a]})}async injectScriptsAsync(e,t,s=!1){if(e||(e=await this.getActiveTabIdAsync()))for(const a of t)await chrome.scripting.executeScript({target:{tabId:e,allFrames:s},files:[a]})}async changeWinType(e){var t;(await chrome.windows.getCurrent()).type!==e&&(t=(await chrome.tabs.getCurrent())?.id)&&await chrome.windows.create({type:e,tabId:t})}};export{ChrUtils};